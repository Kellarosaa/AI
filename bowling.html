<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Bowling Game</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        const pins = [];
        const pinRadius = 10;
        const ballRadius = 15;
        let ballX = canvas.width / 2;
        let ballY = canvas.height - 30;
        let ballSpeedX = 0;
        let ballSpeedY = -5;
        let score = 0;
        let aiKnowledge = { angle: 0, speed: 5 };

        function resetPins() {
            pins.length = 0;
            for (let i = 0; i < 10; i++) {
                pins.push({
                    x: canvas.width / 2 + (i % 2 === 0 ? -20 : 20) * (i % 5),
                    y: 100 + Math.floor(i / 2) * 20,
                    hit: false
                });
            }
        }

        function drawPins() {
            ctx.fillStyle = 'red';
            pins.forEach(pin => {
                if (!pin.hit) {
                    ctx.beginPath();
                    ctx.arc(pin.x, pin.y, pinRadius, 0, Math.PI * 2);
                    ctx.fill();
                }
            });
        }

        function drawBall() {
            ctx.fillStyle = 'blue';
            ctx.beginPath();
            ctx.arc(ballX, ballY, ballRadius, 0, Math.PI * 2);
            ctx.fill();
        }

        function updateBall() {
            ballX += ballSpeedX;
            ballY += ballSpeedY;

            if (ballX < ballRadius || ballX > canvas.width - ballRadius) {
                ballSpeedX = -ballSpeedX;
            }

            if (ballY < ballRadius) {
                ballSpeedY = -ballSpeedY;
            }

            pins.forEach(pin => {
                if (!pin.hit && Math.hypot(ballX - pin.x, ballY - pin.y) < ballRadius + pinRadius) {
                    pin.hit = true;
                    score += 10;
                    ballSpeedX = -ballSpeedX;
                    ballSpeedY = -ballSpeedY;
                }
            });

            if (ballY > canvas.height) {
                resetGame();
            }
        }

        function resetGame() {
            ballX = canvas.width / 2;
            ballY = canvas.height - 30;
            ballSpeedX = aiKnowledge.angle;
            ballSpeedY = -aiKnowledge.speed;

            if (score > 0) {
                aiKnowledge.angle += 0.1;
                aiKnowledge.speed += 0.1;
            } else {
                aiKnowledge.angle -= 0.1;
                aiKnowledge.speed -= 0.1;
            }

            score = 0;
            resetPins();
        }

        function gameLoop() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawPins();
            drawBall();
            updateBall();
            requestAnimationFrame(gameLoop);
        }

        resetPins();
        resetGame();
        gameLoop();
    </script>
</body>
</html>
